# Research topic configuration for the World Lore Researcher pipeline.
#
# Each topic defines:
#   section_header  — heading used to delimit content sections for extraction
#   schema_hints    — MUST PRESERVE directives for the MCP Summarizer
#   instructions    — two-phase research instructions with {zone} and {game} placeholders

topics:
  zone_overview_research:
    section_header: "## ZONE OVERVIEW"
    schema_hints: |
      zone metadata: name, level range, expansion era. MUST PRESERVE: narrative arc (full storyline — political backstory, primary conflict, factional tensions, and resolution — not a tagline), political climate (governing factions, neglected populations, power struggles), phase states (Cataclysm changes, quest progression phases), sub-areas and landmarks. Preserve ALL proper nouns (NPC names, faction names, place names) even when compressing surrounding text.
    instructions: |
      Focus on zone overview for {zone} in {game}.

      Phase 1 — Search for the zone's main wiki page and overview articles. Extract: level range, expansion era, narrative arc (the FULL story — political backstory, primary conflict, factional tensions, and resolution, not just a one-sentence summary), political climate (governing factions, neglected populations, power struggles), access gating, phase states (Cataclysm changes, quest progression phases), sub-areas and landmarks.

      Phase 2 — If the zone has a major storyline or dungeon, search for and crawl the dedicated wiki page for that storyline or dungeon (e.g., 'The Deadmines' page, not just the zone page that mentions it).

  npc_research:
    section_header: "## NPCs AND NOTABLE CHARACTERS"
    schema_hints: |
      NPCs: names, titles, faction allegiance. MUST PRESERVE per NPC: personality traits and demeanor, motivations and goals, relationships to other NAMED NPCs (allies, rivals, family, mentors), role classification (quest giver, vendor, boss, antagonist, faction leader), quest chains they give or participate in (include quest names), phased/expansion appearances. Include BOTH friendly and hostile NPCs — quest givers AND dungeon bosses, antagonist leaders, faction leaders. Preserve ALL NPC proper names even when compressing other text. IMPORTANT: Only preserve individual named characters — not creature types (Kobolds, Gnolls), factions, or locations.
    instructions: |
      Focus on NPCs and notable characters in {zone} in {game}.

      IMPORTANT: Only research INDIVIDUAL NAMED CHARACTERS — specific people or creatures with
      proper names. Do NOT research creature types (Kobolds, Gnolls, Murlocs) or factions
      (Defias Brotherhood) — those belong in other categories.

      Phase 1 — Search for NPC lists, zone quest givers, and notable characters. Crawl category/overview pages to discover INDIVIDUAL NPC NAMES. Also search for '{zone} quest chains' and '{zone} quests' on wowhead.com to find quest-giving NPCs.

      Phase 2 — For the 10-15 most important NPCs discovered, search for and crawl each NPC's INDIVIDUAL wiki page. Extract from each page: personality, motivations, relationships to other named NPCs, role (quest giver, vendor, boss, antagonist, faction leader), QUEST CHAINS (include quest names — this is critical), phased/expansion appearances.

      CRITICAL: Search for BOTH friendly and hostile NPCs:
      - Quest givers, vendors, flight masters, innkeepers
      - Dungeon bosses and raid bosses associated with this zone
      - Antagonist leaders and villain NPCs (named individuals, not factions)
      - Faction leaders (both allied and enemy)
      Do NOT stop at quest-giver lists. Explicitly search for '{zone} bosses', '{zone} antagonists', and '{zone} dungeon bosses'.

  faction_research:
    section_header: "## FACTIONS AND ORGANIZATIONS"
    schema_hints: |
      factions: names, type (major faction, guild, cult, military). MUST PRESERVE: ideology and core beliefs, stated goals, origin story (how and why the faction formed), key members and leaders, inter-faction relationships (allied/hostile/neutral — name specific factions), mutual exclusions, hierarchy (parent factions, sub-factions). Include BOTH friendly and hostile factions — allied organizations AND antagonist groups, criminal organizations, hostile forces. Preserve ALL faction and leader proper names.
    instructions: |
      Focus on factions and organizations in {zone} in {game}.

      Phase 1 — Search for factions active in this zone. Crawl overview pages to discover faction NAMES.

      Phase 2 — For EVERY named faction discovered, search for and crawl the faction's INDIVIDUAL wiki page. Extract: ideology, core beliefs, origin story (how and why the faction formed), goals, key members and leaders, hierarchy (parent factions, sub-factions), mutual exclusions.

      Phase 3 — Identify how factions RELATE to each other. For each pair of factions you discovered, determine: are they allied, hostile, or neutral? Search for 'FactionName vs OtherFaction' or 'FactionName enemies' if the wiki pages don't make it obvious. This is critical — inter-faction dynamics (allied/hostile/neutral) drive the zone's narrative.

      CRITICAL: Search for BOTH friendly and hostile factions:
      - Allied organizations and militia groups
      - Antagonist factions, criminal organizations, hostile forces
      - Governing authorities and their local presence
      Do NOT stop at allied faction pages. Explicitly search for '{zone} enemy factions', '{zone} hostile organizations'.

  lore_research:
    section_header: "## LORE, HISTORY, AND MYTHOLOGY"
    schema_hints: |
      lore: event titles, era/timeline placement. MUST PRESERVE: major historical events with causal chains (what happened, why it happened, what it caused), named actors in each event, mythology and cosmological rules, power sources and their origins. Preserve chronological ordering and cause-effect relationships. Keep ALL proper nouns (people, places, artifacts, faction names).
    instructions: |
      Focus on lore, history, mythology, and cosmology of {zone} in {game}.

      Phase 1 — Search for the zone's lore and history articles. Crawl overview pages to identify major lore EVENTS and FIGURES.

      Phase 2 — For each major lore event or figure, search for and crawl its INDIVIDUAL wiki page. Extract: what happened, WHY it happened (causes), what it caused (consequences), named actors involved, era/timeline placement.

      Phase 3 — Search BEYOND political history. Explicitly search for:
      - '{zone} mythology legends' — folk tales, prophecies, creation myths
      - '{zone} magic ley lines arcane' — magical properties of the zone's landmarks
      - '{zone} cosmology titan Old God' — titan or Old God influence on the zone
      Not every zone will have these, but many do. If the searches return nothing, that's fine.

      Prioritize causal chains: the sequence of events that created the zone's current state. Include origin stories for major factions and conflicts.

  narrative_items_research:
    section_header: "## LEGENDARY ITEMS AND NARRATIVE OBJECTS"
    schema_hints: |
      items and artifacts: names, significance tier (legendary, epic, quest, notable). MUST PRESERVE: story arc (how the item fits into the zone's narrative), wielder lineage, power description, quest relevance. EXCLUDE crafting recipes, cooking items, vendor trash, generic consumables. EXCLUDE locations, NPCs, factions, and events — only physical in-game objects. An empty result is better than misidentified entries.
    instructions: |
      Focus on narrative items and artifacts in {zone} in {game}.

      IMPORTANT: A narrative item is a physical IN-GAME OBJECT — something a player can pick up,
      equip, or interact with. Named weapons, quest items, lore books, artifacts, keys.
      Do NOT research locations (Goldshire, Mirror Lake), NPCs (Hogger), factions (Defias
      Brotherhood), or historical events (The First War) — those belong in other categories.

      Search for: '{zone} quest items', '{zone} notable loot', '{zone} artifacts', '{zone} quest rewards'.
      Also check wowhead.com for quest reward items and key quest objects in this zone.

      Extract: story arc, wielder lineage, power description, significance tier.

      ONLY include items with genuine narrative significance — NOT crafting recipes, cooking items, vendor trash, or generic consumables. If the zone has no truly significant narrative items, that is acceptable — an empty result is far better than listing locations or NPCs as items.
